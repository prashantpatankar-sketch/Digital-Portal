# Complaint System - Visual Summary

## ğŸ¯ System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          COMPLAINT MANAGEMENT SYSTEM - ARCHITECTURE             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚   CITIZEN    â”‚         â”‚  STAFF/ADMIN â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚         â”‚                        â”‚                             â”‚
â”‚         â–¼                        â–¼                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚         DJANGO VIEWS LAYER           â”‚                     â”‚
â”‚  â”‚                                      â”‚                     â”‚
â”‚  â”‚  â€¢ file_complaint()                  â”‚                     â”‚
â”‚  â”‚  â€¢ my_complaints()                   â”‚                     â”‚
â”‚  â”‚  â€¢ complaint_detail()                â”‚                     â”‚
â”‚  â”‚  â€¢ admin_complaints()                â”‚                     â”‚
â”‚  â”‚  â€¢ admin_update_complaint()          â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚               â”‚                                                â”‚
â”‚               â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚         DATABASE MODELS              â”‚                     â”‚
â”‚  â”‚                                      â”‚                     â”‚
â”‚  â”‚  â€¢ Complaint Model                   â”‚                     â”‚
â”‚  â”‚    - complaint_number                â”‚                     â”‚
â”‚  â”‚    - category, priority, status      â”‚                     â”‚
â”‚  â”‚    - assignment, resolution          â”‚                     â”‚
â”‚  â”‚                                      â”‚                     â”‚
â”‚  â”‚  â€¢ ComplaintHistory Model            â”‚                     â”‚
â”‚  â”‚    - action tracking                 â”‚                     â”‚
â”‚  â”‚    - old_value, new_value            â”‚                     â”‚
â”‚  â”‚    - performed_by, performed_at      â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Diagram

```
CITIZEN FLOW:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Register/  â”‚
â”‚    Login     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ File New     â”‚â”€â”€â”€â”€â”€â–¶â”‚ Complaint Created    â”‚
â”‚ Complaint    â”‚      â”‚ Status: OPEN         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ CMP20240001          â”‚
       â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                         â”‚
       â–¼                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚ View My      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ Complaints   â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ ComplaintHistory     â”‚
       â”‚              â”‚ Action: created      â”‚
       â–¼              â”‚ Performed by: Citizenâ”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ Track Status â”‚
â”‚ & Timeline   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ADMIN FLOW:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Staff/     â”‚
â”‚   Admin      â”‚
â”‚   Login      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ View All     â”‚      â”‚ Filter Complaints:   â”‚
â”‚ Complaints   â”‚â”€â”€â”€â”€â”€â–¶â”‚ â€¢ Status             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â€¢ Category           â”‚
       â”‚              â”‚ â€¢ Priority           â”‚
       â”‚              â”‚ â€¢ Assignment         â”‚
       â–¼              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Assign     â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   to Staff   â”‚â”€â”€â”€â”€â”€â–¶â”‚ ComplaintHistory     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ Action: assigned     â”‚
       â”‚              â”‚ New: Staff Name      â”‚
       â–¼              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Update     â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Status     â”‚â”€â”€â”€â”€â”€â–¶â”‚ ComplaintHistory     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ Action: status_changeâ”‚
       â”‚              â”‚ Old: open            â”‚
       â–¼              â”‚ New: in_progress     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   Resolve    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Complaint  â”‚â”€â”€â”€â”€â”€â–¶â”‚ ComplaintHistory     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ Action: resolved     â”‚
                      â”‚ + resolved_date set  â”‚
                      â”‚ + resolution_remarks â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ UI Components

### Citizen Dashboard - My Complaints

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š MY COMPLAINTS                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   42     â”‚  â”‚    15    â”‚  â”‚    27    â”‚               â”‚
â”‚  â”‚  Total   â”‚  â”‚   Open   â”‚  â”‚ Resolved â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                            â”‚
â”‚  [File New] [Open] [In Progress] [Resolved] [Clear]       â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ COMPLAINT LIST                                     â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ CMP001 | Water Issue    | ğŸ”´ Open    | [View]    â”‚   â”‚
â”‚  â”‚ CMP002 | Street Light   | ğŸŸ¡ Progress| [View]    â”‚   â”‚
â”‚  â”‚ CMP003 | Road Repair    | ğŸŸ¢ Resolved| [View]    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Citizen - Complaint Detail with Timeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤ COMPLAINT #CMP20240001                                 â”‚
â”‚  Filed: Jan 15, 2024                    Status: ğŸŸ¡ Progressâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  Category: Water Supply    Priority: ğŸ”´ Urgent            â”‚
â”‚  Assignment: âœ… Assigned                                   â”‚
â”‚                                                            â”‚
â”‚  Subject: No water supply in Sector 5                      â”‚
â”‚  Description: Water supply disrupted since morning...      â”‚
â”‚  Location: ğŸ“ Sector 5, B-Block                           â”‚
â”‚                                                            â”‚
â”‚  [Photo Evidence]                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚    [Image]     â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â±ï¸  ACTIVITY TIMELINE                              â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ ğŸŸ¢ Resolved                                        â”‚   â”‚
â”‚  â”‚    Status: in_progress â†’ resolved                  â”‚   â”‚
â”‚  â”‚    ğŸ‘¤ Staff: Rajesh Kumar                          â”‚   â”‚
â”‚  â”‚    ğŸ• Jan 20, 2024 3:30 PM                         â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚ ğŸŸ¡ Status Changed                                   â”‚   â”‚
â”‚  â”‚    Status: open â†’ in_progress                      â”‚   â”‚
â”‚  â”‚    ğŸ‘¤ Staff: Rajesh Kumar                          â”‚   â”‚
â”‚  â”‚    ğŸ• Jan 16, 2024 10:00 AM                        â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚ ğŸ”µ Assigned                                         â”‚   â”‚
â”‚  â”‚    Unassigned â†’ Rajesh Kumar                       â”‚   â”‚
â”‚  â”‚    ğŸ‘¤ Admin: Priya Sharma                          â”‚   â”‚
â”‚  â”‚    ğŸ• Jan 15, 2024 5:00 PM                         â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚ ğŸŸ£ Created                                          â”‚   â”‚
â”‚  â”‚    Complaint filed                                 â”‚   â”‚
â”‚  â”‚    ğŸ‘¤ Citizen: Amit Singh                          â”‚   â”‚
â”‚  â”‚    ğŸ• Jan 15, 2024 2:30 PM                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚  âœ… RESOLUTION                                             â”‚
â”‚  Water supply restored. Replaced damaged pipe in          â”‚
â”‚  Sector 5, B-Block. Tested water pressure - normal.       â”‚
â”‚  Resolved on: Jan 20, 2024 3:30 PM                        â”‚
â”‚                                                            â”‚
â”‚  [Back to My Complaints]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin - Manage Complaints

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤ COMPLAINT MANAGEMENT SYSTEM                            â”‚
â”‚  Review, assign, and resolve citizen complaints            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â” â”‚
â”‚  â”‚  156  â”‚ â”‚  42   â”‚ â”‚  28   â”‚ â”‚  86   â”‚ â”‚  15   â”‚ â”‚ 8â”‚ â”‚
â”‚  â”‚ Total â”‚ â”‚ Open  â”‚ â”‚ Prog. â”‚ â”‚Resolv.â”‚ â”‚Unassigâ”‚ â”‚Urgâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  FILTERS:                                                  â”‚
â”‚  [Status â–¼] [Category â–¼] [Priority â–¼] [Assigned â–¼]       â”‚
â”‚                                         [Clear Filters]    â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ COMPLAINT LIST (156 total)                         â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ No.  â”‚Subject â”‚Complainantâ”‚Categoryâ”‚Pri â”‚Statâ”‚Asnâ”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚CMP01â”‚Water   â”‚Amit Singh â”‚Water   â”‚ğŸ”´  â”‚ğŸ”´  â”‚âœ… â”‚âœï¸ â”‚   â”‚
â”‚  â”‚CMP02â”‚Light   â”‚Neha Patel â”‚Street  â”‚ğŸŸ   â”‚ğŸŸ¡  â”‚âœ… â”‚âœï¸ â”‚   â”‚
â”‚  â”‚CMP03â”‚Road    â”‚Raj Kumar  â”‚Road    â”‚ğŸ”µ  â”‚ğŸŸ¢  â”‚âœ… â”‚âœï¸ â”‚   â”‚
â”‚  â”‚CMP04â”‚Drain   â”‚Sita Devi  â”‚Drainageâ”‚ğŸ”´  â”‚ğŸ”´  â”‚â³ â”‚âœï¸ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚  [1] [2] [3] ... [8] Page 1 of 8                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin - Update Complaint

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LEFT PANEL: COMPLAINT DETAILS     â”‚  RIGHT: HISTORY       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚                       â”‚
â”‚  ğŸ¤ COMPLAINT #CMP20240001         â”‚ â±ï¸  COMPLAINT HISTORY â”‚
â”‚                                    â”‚                       â”‚
â”‚  ğŸ‘¤ COMPLAINANT INFORMATION        â”‚ ğŸŸ¢ Resolved           â”‚
â”‚  Name: Amit Singh                  â”‚    in_progress â†’      â”‚
â”‚  Phone: 9876543210                 â”‚    resolved           â”‚
â”‚  Email: amit@example.com           â”‚    Staff: Rajesh      â”‚
â”‚  Filed: Jan 15, 2024 2:30 PM       â”‚    Jan 20, 3:30 PM    â”‚
â”‚                                    â”‚                       â”‚
â”‚  Category: Water Supply            â”‚ ğŸŸ¡ Status Changed     â”‚
â”‚  Priority: ğŸ”´ Urgent               â”‚    open â†’             â”‚
â”‚  Status: ğŸŸ¡ In Progress            â”‚    in_progress        â”‚
â”‚                                    â”‚    Staff: Rajesh      â”‚
â”‚  Subject: No water supply          â”‚    Jan 16, 10:00 AM   â”‚
â”‚  Description: Water disrupted...   â”‚                       â”‚
â”‚  Location: ğŸ“ Sector 5, B-Block    â”‚ ğŸ”µ Assigned           â”‚
â”‚                                    â”‚    Unassigned â†’       â”‚
â”‚  [Photo Evidence]                  â”‚    Rajesh Kumar       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚    Admin: Priya       â”‚
â”‚  â”‚   [Image]    â”‚                  â”‚    Jan 15, 5:00 PM    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚                       â”‚
â”‚                                    â”‚ ğŸŸ£ Created            â”‚
â”‚  Assigned To: Rajesh Kumar         â”‚    Complaint filed    â”‚
â”‚                                    â”‚    Amit Singh         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    Jan 15, 2:30 PM    â”‚
â”‚                                    â”‚                       â”‚
â”‚  ğŸ“ UPDATE COMPLAINT                â”‚                       â”‚
â”‚                                    â”‚                       â”‚
â”‚  Assigned To: [Rajesh Kumar â–¼]    â”‚                       â”‚
â”‚  Status: [In Progress â–¼]          â”‚                       â”‚
â”‚  Priority: [Urgent â–¼]             â”‚                       â”‚
â”‚  Resolution Remarks:               â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                       â”‚
â”‚  â”‚ Water supply restored...      â”‚ â”‚                       â”‚
â”‚  â”‚                               â”‚ â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                       â”‚
â”‚                                    â”‚                       â”‚
â”‚  [âœ… Update Complaint]             â”‚                       â”‚
â”‚  [â¬…ï¸ Back to Complaints]           â”‚                       â”‚
â”‚                                    â”‚                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ State Transitions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  COMPLAINT STATUS LIFECYCLE                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   NEW    â”‚
    â”‚ COMPLAINTâ”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Citizen Files
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   OPEN   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ğŸ”´ Red  â”‚         â”‚ Can revert if needed
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â”‚
         â”‚               â”‚
         â”‚ Staff Assigns â”‚
         â–¼               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
    â”‚ASSIGNED  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚(Still Open)
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Staff Updates
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    IN    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ PROGRESS â”‚         â”‚ Can update priority
    â”‚ ğŸŸ¡ Yellowâ”‚         â”‚ Can reassign
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â”‚
         â”‚               â”‚
         â”‚ Working...    â”‚
         â–¼               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
    â”‚ RESOLVED â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Can reopen if issue persists
    â”‚ ğŸŸ¢ Green â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Optional
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  CLOSED  â”‚
    â”‚ âš« Gray  â”‚ (Final, Archived)
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Database Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATABASE SCHEMA                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CustomUser     â”‚                  â”‚   Complaint      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ complainant_id   â”‚
â”‚ email            â”‚ 1         âˆ      â”‚ complaint_number â”‚
â”‚ role             â”‚                  â”‚ category         â”‚
â”‚ phone_number     â”‚                  â”‚ subject          â”‚
â”‚ ...              â”‚                  â”‚ description      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚ location         â”‚
        â–²                             â”‚ priority         â”‚
        â”‚                             â”‚ status           â”‚
        â”‚ performed_by                â”‚ assigned_to_id   â”‚
        â”‚                             â”‚ filed_date       â”‚
        â”‚                             â”‚ resolved_date    â”‚
        â”‚                             â”‚ resolution_remarks
        â”‚                             â”‚ complaint_photo  â”‚
        â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                      â”‚
        â”‚                                      â”‚ 1
        â”‚                                      â”‚
        â”‚                                      â”‚ âˆ
        â”‚                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                             â”‚ ComplaintHistory â”‚
        â”‚                             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ complaint_id (FK)â”‚
                1              âˆ      â”‚ action           â”‚
                                      â”‚ old_value        â”‚
                                      â”‚ new_value        â”‚
                                      â”‚ performed_by_id  â”‚
                                      â”‚ performed_at     â”‚
                                      â”‚ notes            â”‚
                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Feature Matrix

| Feature | Citizen | Staff | Admin |
|---------|---------|-------|-------|
| File Complaint | âœ… | âŒ | âŒ |
| View Own Complaints | âœ… | âŒ | âŒ |
| View All Complaints | âŒ | âœ… | âœ… |
| Filter Complaints | âŒ | âœ… | âœ… |
| Assign Complaints | âŒ | âœ… | âœ… |
| Update Status | âŒ | âœ… | âœ… |
| Change Priority | âŒ | âœ… | âœ… |
| Add Resolution | âŒ | âœ… | âœ… |
| View History | âœ… | âœ… | âœ… |
| Upload Photos | âœ… | âŒ | âŒ |
| Statistics Dashboard | âœ… | âœ… | âœ… |
| Delete Complaints | âŒ | âŒ | âœ… |

---

## ğŸ“ˆ Performance Metrics

```
Database Optimizations:
âœ… select_related('complainant', 'assigned_to')
âœ… Indexed fields: complaint_number, status, category
âœ… Pagination: 20 complaints per page
âœ… Efficient filtering with Q objects

Response Times (Estimated):
â€¢ File Complaint: < 500ms
â€¢ View My Complaints: < 300ms
â€¢ Admin View All: < 800ms (with 1000+ complaints)
â€¢ Update Status: < 400ms
â€¢ View Timeline: < 200ms
```

---

## âœ… Testing Checklist

```
CITIZEN TESTS:
â˜ File new complaint
â˜ Upload photo (JPG, PNG)
â˜ View in "My Complaints"
â˜ Check statistics (Total, Open, Resolved)
â˜ Filter by status
â˜ View complaint details
â˜ See complete timeline
â˜ View resolution remarks

ADMIN TESTS:
â˜ View all complaints
â˜ See 6 statistics cards
â˜ Filter by status
â˜ Filter by category
â˜ Filter by priority
â˜ Filter by assignment
â˜ Clear all filters
â˜ Assign to staff
â˜ Update status
â˜ Change priority
â˜ Add resolution remarks
â˜ Verify auto resolved_date
â˜ View history timeline

HISTORY TESTS:
â˜ Created action on file
â˜ Assigned action on assignment
â˜ Status_changed on status update
â˜ Priority_changed on priority update
â˜ Resolved action on resolution
â˜ Timeline displays correctly
â˜ Old/new values shown
â˜ Timestamps accurate
```

---

**System Status**: âœ… Production Ready
**Version**: 1.0.0
**Last Updated**: January 2024
